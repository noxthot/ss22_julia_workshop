<!doctype html> <html lang=en > <script src="/ss22_julia_workshop/libs/clipboard.min.js"></script> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/ss22_julia_workshop/libs/katex/katex.min.css"> <link rel=stylesheet  href="/ss22_julia_workshop/libs/highlight/github.min.css"> <link rel=stylesheet  href="/ss22_julia_workshop/css/jtd.css"> <link rel=stylesheet  href="/ss22_julia_workshop/css/extras.css"> <link rel=icon  href="/ss22_julia_workshop/assets/favicon.ico"> <style> /* #148 wrap long header */ .franklin-content a.header-anchor, .franklin-toc li a { word-wrap: break-word; white-space: normal; } </style> <title>Matrix and Vector Operations</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/ss22_julia_workshop/" class=title > Julia </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/ss22_julia_workshop/" class="menu-list-link ">Start</a> <li class="menu-list-item active"><a href="/ss22_julia_workshop/pages/introduction/" class="menu-list-link active">Introduction</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/introduction/basis_datatypes_and_operations" class=menu-list-link >Basic Datatypes and Operations</a> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/introduction/matrix_vectors" class=menu-list-link >Matrix and Vector Operations</a> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/introduction/worksheet_1" class=menu-list-link >Worksheet 1</a> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/introduction/worksheet_2" class=menu-list-link >Worksheet 2</a> </ul> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/hpc/" class="menu-list-link ">Parallel computing</a> <li class="menu-list-item "><a href="/ss22_julia_workshop/pages/datascience/" class="menu-list-link ">Data Science</a> </ul> </div> <div class=footer > This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>. </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > SS22 Julia Workshop Obergurgl </div> <div class=franklin-content ><h1 id=basic_matrix_and_vector_operations ><a href="#basic_matrix_and_vector_operations" class=header-anchor >Basic Matrix and Vector Operations</a></h1> <p>In Julia vectors and matrices are derived from the basic <a href="https://docs.julialang.org/en/v1/base/arrays/#lib-arrays"><code>Core.AbstracArray</code></a> type. To get a better idea on what is happening we show the examples when typed into Julia REPL. </p> <h2 id=vectors ><a href="#vectors" class=header-anchor >Vectors</a></h2> <p>You can allocate a vector by typing:</p> <pre><code class="julia hljs">julia&gt; v = [<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>]
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>
 <span class=hljs-number >2</span>
 <span class=hljs-number >3</span></code></pre> <p>As you can see, Julia found out that all the numbers are integers and therefore you have now a 3-element Vector of the type Int64 defined. You can now do operations on this vector in the usual fashion:</p> <pre><code class="julia hljs">julia&gt; v*<span class=hljs-number >2</span>
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >2</span>
 <span class=hljs-number >4</span>
 <span class=hljs-number >6</span>

julia&gt; v/<span class=hljs-number >2</span>
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Float64</span>}:
 <span class=hljs-number >0.5</span>
 <span class=hljs-number >1.0</span>
 <span class=hljs-number >1.5</span>

julia&gt; v//<span class=hljs-number >2</span>
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Rational</span>{<span class=hljs-built_in >Int64</span>}}:
 <span class=hljs-number >1</span>//<span class=hljs-number >2</span>
 <span class=hljs-number >1</span>//<span class=hljs-number >1</span>
 <span class=hljs-number >3</span>//<span class=hljs-number >2</span></code></pre> <div class=important >Note that the type of your vector changes with regards to the result of the operation.</div> <p>If you try to define the vector without the <code>,</code> you will generate a 1x3 Matrix:</p> <pre><code class="julia hljs">julia&gt; w = [<span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >3</span>]
<span class=hljs-number >1</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>  <span class=hljs-number >2</span>  <span class=hljs-number >3</span></code></pre> <p>Julia was designed by mathematicians, this might explain some of the notions regarding the conventions in Julia.</p> <p>We can also do the <em>adjoined</em> operation but note that Julia will remember this:</p> <pre><code class="julia hljs">julia&gt; w&#x27;
<span class=hljs-number >3</span>×<span class=hljs-number >1</span> adjoint(::<span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}) with eltype <span class=hljs-built_in >Int64</span>:
 <span class=hljs-number >1</span>
 <span class=hljs-number >2</span>
 <span class=hljs-number >3</span></code></pre> <h2 id=matrices ><a href="#matrices" class=header-anchor >Matrices</a></h2> <p>If we have vectors the jump to matrices is not very far. Simply wrap everything in another set of brackets and we are good to go:</p> <pre><code class="julia hljs">julia&gt; A = [[<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>] [<span class=hljs-number >4</span>, <span class=hljs-number >5</span>, <span class=hljs-number >6</span>] [<span class=hljs-number >7</span>, <span class=hljs-number >8</span>, <span class=hljs-number >9</span>]]
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>  <span class=hljs-number >4</span>  <span class=hljs-number >7</span>
 <span class=hljs-number >2</span>  <span class=hljs-number >5</span>  <span class=hljs-number >8</span>
 <span class=hljs-number >3</span>  <span class=hljs-number >6</span>  <span class=hljs-number >9</span></code></pre> <p>Note, that we specified the three column vectors and combined them into a 3x3 matrix. The row wise definition looks like this:</p> <pre><code class="julia hljs">julia&gt; B = [<span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >3</span>; <span class=hljs-number >4</span> <span class=hljs-number >5</span> <span class=hljs-number >6</span>; <span class=hljs-number >7</span> <span class=hljs-number >8</span> <span class=hljs-number >9</span>]
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>  <span class=hljs-number >2</span>  <span class=hljs-number >3</span>
 <span class=hljs-number >4</span>  <span class=hljs-number >5</span>  <span class=hljs-number >6</span>
 <span class=hljs-number >7</span>  <span class=hljs-number >8</span>  <span class=hljs-number >9</span></code></pre> <p>where we use <code>;</code> to separate the rows.</p> <p>Again, the basic operations ship with Julia and you need not additional packages. </p> <pre><code class="julia hljs">julia&gt; A+A*<span class=hljs-number >2</span><span class=hljs-literal >im</span>
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Complex</span>{<span class=hljs-built_in >Int64</span>}}:
 <span class=hljs-number >1</span>+<span class=hljs-number >2</span><span class=hljs-literal >im</span>  <span class=hljs-number >4</span>+<span class=hljs-number >8</span><span class=hljs-literal >im</span>   <span class=hljs-number >7</span>+<span class=hljs-number >14</span><span class=hljs-literal >im</span>
 <span class=hljs-number >2</span>+<span class=hljs-number >4</span><span class=hljs-literal >im</span>  <span class=hljs-number >5</span>+<span class=hljs-number >10</span><span class=hljs-literal >im</span>  <span class=hljs-number >8</span>+<span class=hljs-number >16</span><span class=hljs-literal >im</span>
 <span class=hljs-number >3</span>+<span class=hljs-number >6</span><span class=hljs-literal >im</span>  <span class=hljs-number >6</span>+<span class=hljs-number >12</span><span class=hljs-literal >im</span>  <span class=hljs-number >9</span>+<span class=hljs-number >18</span><span class=hljs-literal >im</span></code></pre> <p>It comes to not much surprise that the matrix-vector multiplication is </p> <pre><code class="julia hljs">julia&gt; A*v
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >30</span>
 <span class=hljs-number >36</span>
 <span class=hljs-number >42</span></code></pre> <h2 id=point-wise_operations ><a href="#point-wise_operations" class=header-anchor >Point-wise operations</a></h2> <p>Quite often it is necessary to do point-wise operations on matrices. In order to do so we prepend a <code>.</code> before the operation:</p> <pre><code class="julia hljs">julia&gt; A*v
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >30</span>
 <span class=hljs-number >36</span>
 <span class=hljs-number >42</span>
 julia&gt; A.*v
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>   <span class=hljs-number >4</span>   <span class=hljs-number >7</span>
 <span class=hljs-number >4</span>  <span class=hljs-number >10</span>  <span class=hljs-number >16</span>
 <span class=hljs-number >9</span>  <span class=hljs-number >18</span>  <span class=hljs-number >27</span>
 julia&gt; A.^<span class=hljs-number >2</span>
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>  <span class=hljs-number >16</span>  <span class=hljs-number >49</span>
 <span class=hljs-number >4</span>  <span class=hljs-number >25</span>  <span class=hljs-number >64</span>
 <span class=hljs-number >9</span>  <span class=hljs-number >36</span>  <span class=hljs-number >81</span>
julia&gt; A^<span class=hljs-number >2</span>
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >30</span>  <span class=hljs-number >66</span>  <span class=hljs-number >102</span>
 <span class=hljs-number >36</span>  <span class=hljs-number >81</span>  <span class=hljs-number >126</span>
 <span class=hljs-number >42</span>  <span class=hljs-number >96</span>  <span class=hljs-number >150</span></code></pre> <h2 id=access_specific_elements ><a href="#access_specific_elements" class=header-anchor >Access specific elements</a></h2> <p>Indexing in Julia starts with 1 and we use <code>&#91;&#93;</code>. So in order to compute <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>2</mn></msub><msub><mi>A</mi><mrow><mn>1</mn><mo separator=true >,</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">v_2 A_{1,2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.9694em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> we say</p> <pre><code class="julia hljs">julia&gt; v[<span class=hljs-number >2</span>]
<span class=hljs-number >2</span>
julia&gt; A[<span class=hljs-number >1</span>,<span class=hljs-number >2</span>]
<span class=hljs-number >4</span>
julia&gt; v[<span class=hljs-number >2</span>] * A[<span class=hljs-number >1</span>,<span class=hljs-number >2</span>]
<span class=hljs-number >8</span></code></pre> <p>You can also use the <code>end</code> keyword and the <code>:</code> placeholder to access a range of elements:</p> <pre><code class="julia hljs">julia&gt; A[:,<span class=hljs-keyword >end</span>-<span class=hljs-number >2</span>]
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Int64</span>}:
 <span class=hljs-number >1</span>
 <span class=hljs-number >2</span>
 <span class=hljs-number >3</span></code></pre> <p>To find the entire list of operations that can be performed and a lot more on arrays in Julia visit the <a href="https://docs.julialang.org/en/v1/base/arrays/#lib-arrays">docs</a>.</p> <h1 id=linear_algebra ><a href="#linear_algebra" class=header-anchor >Linear Algebra</a></h1> <p>As soon as you include the <a href="https://docs.julialang.org/en/v1/stdlib/LinearAlgebra/"><code>LinearAlgebra</code></a> or the <a href="https://docs.julialang.org/en/v1/stdlib/SuiteSparse/"><code>SparseLinearAlgebra</code></a> package you have a lot more operations available, both are part of the Julia Standard Library.</p> <pre><code class="julia hljs">julia&gt; <span class=hljs-keyword >using</span> LinearAlgebra
julia&gt; tr(A)
<span class=hljs-number >15</span>
julia&gt; eigvals(A)
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Float64</span>}:
 -<span class=hljs-number >1.1168439698070436</span>
 -<span class=hljs-number >5.70069118970987e-16</span>
 <span class=hljs-number >16.116843969807064</span>
julia&gt; sA = Symmetric(A)
<span class=hljs-number >3</span>×<span class=hljs-number >3</span> Symmetric{<span class=hljs-built_in >Int64</span>, <span class=hljs-built_in >Matrix</span>{<span class=hljs-built_in >Int64</span>}}:
 <span class=hljs-number >1</span>  <span class=hljs-number >4</span>  <span class=hljs-number >7</span>
 <span class=hljs-number >4</span>  <span class=hljs-number >5</span>  <span class=hljs-number >8</span>
 <span class=hljs-number >7</span>  <span class=hljs-number >8</span>  <span class=hljs-number >9</span>
julia&gt; sA\v
<span class=hljs-number >3</span>-element <span class=hljs-built_in >Vector</span>{<span class=hljs-built_in >Float64</span>}:
 <span class=hljs-number >0.29999999999999993</span>
 <span class=hljs-number >1.1102230246251565e-16</span>
 <span class=hljs-number >0.09999999999999995</span></code></pre> <p>The rest you need to know about vectors and matrices we will introduce along the way.</p> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Gregor Ehrensperger, Peter Kandolf, Jonas Kusch. Last modified: June 20, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div> <!-- end of class page-wrap--> <script> (function(){ // Get the elements. // - the 'pre' element. // - the 'div' with the 'paste-content' id. var pre = document.getElementsByTagName('pre'); // Add a copy button in the 'pre' element. // which only has the className of 'language-'. for (var i = 0; i < pre.length; i++) { var isLanguage = pre[i].children[0].className.indexOf('language-'); if ( isLanguage === 0 ) { var button = document.createElement('button'); button.className = 'copy-button'; button.textContent = 'Copy'; pre[i].appendChild(button); } }; // Run Clipboard var copyCode = new Clipboard('.copy-button', { target: function(trigger) { return trigger.previousElementSibling; } }); // On success: // - Change the "Copy" text to "Copied". // - Swap it to "Copy" in 2s. // - Lead user to the "contenteditable" area with Velocity scroll. copyCode.on('success', function(event) { event.clearSelection(); event.trigger.textContent = 'Copied'; window.setTimeout(function() { event.trigger.textContent = 'Copy'; }, 2000); }); // On error (Safari): // - Change the "Press Ctrl+C to copy" // - Swap it to "Copy" in 2s. copyCode.on('error', function(event) { event.trigger.textContent = 'Press "Ctrl + C" to copy'; window.setTimeout(function() { event.trigger.textContent = 'Copy'; }, 5000); }); })(); </script> <script> var coll = document.getElementsByClassName("collapsible"); var i; for (i = 0; i < coll.length; i++) { coll[i].addEventListener("click", function() { this.classList.toggle("active"); var content = this.nextElementSibling; if (content.style.display === "block") { content.style.display = "none"; } else { content.style.display = "block"; } }); } </script>